import{d as f,o as y,w as x,r as w,c as F,a as i,b as c,e as r,F as V,f as D,u as o,t as m,n as I,g as b,h as S,p as T,i as k,_ as M}from"./index.67f49a60.js";const $=async(s="jp")=>{const a=await fetch(`https://lodestonenews.com/news/topics?locale=${s}`,{method:"GET",headers:new Headers({Accept:"application/json"})});if(!a.ok)throw new Error(a.statusText);return await a.json()},X=s=>(T("data-v-0381e50a"),s=s(),k(),s),j={class:"topic_list"},B=["href","onMouseover"],E=["src"],H=X(()=>r("article",null,null,-1)),N=f({__name:"FFXIVView",props:{locale:null},setup(s){const a=s;y(()=>_()),x(()=>a.locale,()=>_());let p=w([]),n=w({order:0,show:!1,bottom:!0,x:0,y:0});const _=()=>$(a.locale).then(t=>{p.value=t}),u=F(()=>p.value?p.value.map(t=>{const e=new Date(new Date(t.time).getTime()-36e5);return{...t,timeStamp:`${e.getFullYear()}-${e.getMonth()+1}-${e.getDate().toString().length===1?"0"+e.getDate():e.getDate()}`}}).sort((t,e)=>new Date(t.time).getTime()-new Date(e.time).getTime()).reverse():[{description:"none",id:"none",image:"none",time:"none",title:"none",url:"none"}]),g=(t,e)=>{n.value={order:e,show:!0,x:t.x,y:t.y,bottom:t.y<=document.body.clientHeight/2}},v=()=>n.value.show=!1;return(t,e)=>(i(),c("div",null,[r("dl",j,[(i(!0),c(V,null,D(o(u),(d,l)=>(i(),c("div",{key:l,class:"topic_item"},[r("dt",null,m(d.timeStamp),1),r("dd",null,[r("a",{href:d.url,target:"_blank",onMouseover:h=>g(h,l),onMouseleave:e[0]||(e[0]=h=>v())},m(d.title),41,B),o(n).show&&o(n).order===l?(i(),c("div",{key:0,class:"topic_detail",style:I({"--position-x":o(n).x,"--position-bottom":o(n).bottom?"unset":"1.25rem","--position-top":o(n).bottom?"1.25rem":"unset"})},[r("img",{src:o(u)[l].image,alt:"image"},null,8,E),b(" "+m(o(u)[l].description)+" ",1),H],4)):S("",!0)])]))),128))])]))}});const C=M(N,[["__scopeId","data-v-0381e50a"]]);export{C as default};
