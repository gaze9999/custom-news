import{d as F,o as x,w as D,r as w,c as T,a as m,b as v,e as a,V as b,f as I,g as k,u as c,F as L,h as M,i as n,t as _,j as g,k as $,m as j,l as B,n as H,p as P,q as S,_ as X}from"./index.4087975b.js";const E=async(i="jp")=>{const o=await fetch(`https://lodestonenews.com/news/topics?locale=${i}`,{method:"GET",headers:new Headers({Accept:"application/json"})});if(!o.ok)throw new Error(o.statusText);return await o.json()},A={class:"mr-3"},C=["href"],N={class:"topic_detail"},q=["src"],z=F({__name:"FFXIVView",props:{locale:null},setup(i){const o=i;x(()=>h()),D(()=>o.locale,()=>h());let p=w([]),u=w({order:0,show:!1,bottom:!0,x:0,y:0});const h=()=>E(o.locale).then(t=>{p.value=t}),d=T(()=>p.value?p.value.map(t=>{const e=new Date(new Date(t.time).getTime()-36e5);return{...t,timeStamp:`${e.getFullYear()}-${e.getMonth()+1}-${e.getDate().toString().length===1?"0"+e.getDate():e.getDate()}`}}).sort((t,e)=>new Date(t.time).getTime()-new Date(e.time).getTime()).reverse():[{description:"none",id:"none",image:"none",time:"none",title:"none",url:"none"}]),f=(t,e)=>{u.value={order:e,show:!0,x:t.x,y:t.y,bottom:t.y<=document.body.clientHeight/2}},V=()=>u.value.show=!1;return(t,e)=>(m(),v(b,{density:"compact"},{default:a(()=>[(m(!0),I(L,null,k(c(d),(r,s)=>(m(),v(M,{key:s,value:r,"active-color":"primary",onMouseenter:l=>f(l,s),onMouseleave:e[0]||(e[0]=l=>V())},{prepend:a(()=>[n("p",A,_(r.timeStamp),1)]),default:a(()=>[g(S,H(P(o)),{default:a(()=>[g($,null,{default:a(({isHovering:l,props:y})=>[n("a",j({href:r.url,target:"_blank"},y,{class:"text-primary"}),_(r.title),17,C),g(B,{"model-value":l&&c(u).order===s,activator:"parent","location-strategy":"connected",location:"bottom"},{default:a(()=>[n("div",N,[n("img",{src:c(d)[s].image,alt:"image"},null,8,q),n("article",null,_(c(d)[s].description),1)])]),_:2},1032,["model-value"])]),_:2},1024)]),_:2},1040)]),_:2},1032,["value","onMouseenter"]))),128))]),_:1}))}});const R=X(z,[["__scopeId","data-v-212bca03"]]);export{R as default};
